<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>CouchApp function deprecation</title>
  <meta charset="UTF-8" />
  <meta name="theme-color" content="#354F52">
  <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/tag/latest/ui-shell.min.js"></script>
  <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/tag/latest/button.min.js"></script>
  <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/tag/latest/tag.min.js"></script>
  <script type="module" src="https://1.www.s81c.com/common/carbon/web-components/tag/latest/notification.min.js"></script>
  

  <link rel="icon" href="https://blog.cloudant.com/favicon.png">

  

<link rel="stylesheet"
href="https://1.www.s81c.com/common/carbon-for-ibm-dotcom/tag/v1/canary/plex.css"/>
<link rel="stylesheet"
href="https://1.www.s81c.com/common/carbon-for-ibm-dotcom/tag/v1/canary/grid.css"/>

<style>
       
bx-header~bx-side-nav{margin-top:3rem;height:calc(100% - 3rem)}
.bx-hugo-carbon--ui-shell-content{
  will-change:margin-left;transition:margin-left .11s cubic-bezier(0.2, 0, 1, 0.9);
}
#main-content {margin-top: 3rem;}

@media(min-width: 66rem){

  #main-content{margin-left:16rem}

}
html {margin:0; font-family: "IBM Plex Sans", "Helvetica Neue", Arial, sans-serif;}
bx-side-nav {top:3rem; display: block; overflow: scroll;}
bx-header {display:flex; background: #000;color:#fff;height: 3rem;width:100%}
</style>


<link rel="stylesheet" type="text/css" href="https://blog.cloudant.com/css/main.css?i=000" media="all">



 




 <meta name="generator" content="Hugo 0.115.0">

  
    
    <meta property="og:type" content="article" />
    <meta property="og:title" content="CouchApp function deprecation">
    <meta property="og:url" content="https://blog.cloudant.com/2022/08/16/Show-list-rewrite-udpate-functions-deprecated.html" />
    <meta property="og:description" content="Show/List/Rewrite/Update functions are deprecated" />
    <meta property="article:published_time" content="2022-08-16 00:00:00 &#43;0000 UTC" />
    <meta property="og:site_name" content="Cloudant blog" />
    <meta property="og:image" content="/img/hal-gatewood-Vfml26Iy4mI-unsplash.jpg" />

    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="Cloudant blog" />
    <meta name="twitter:title" content="CouchApp function deprecation" />
    <meta name="twitter:description" content="Show/List/Rewrite/Update functions are deprecated" />
    <meta name="twitter:creator" content="Cloudant blog" />

    
    <meta itemprop="name" content="CouchApp function deprecation">
    <meta itemprop="description" content="Show/List/Rewrite/Update functions are deprecated">
    <meta itemprop="image" content="/img/hal-gatewood-Vfml26Iy4mI-unsplash.jpg">
  




  
  <style>
@media (min-width: 66rem) {
.container .bx--grid {
  padding-left: calc(25% + 1.5rem);
  padding-right: 2rem;
}
}
    h3 {
      margin-bottom: 1rem;
    }
  </style>
  </head>
<body class="">
     
<bx-skip-to-content href="#main-content" role="navigation" aria-label="Skip to main content"></bx-skip-to-content>
<bx-header aria-label=" Cloudant blog" role="banner">
  <bx-header-name href="https://blog.cloudant.com/" prefix=""> Cloudant blog</bx-header-name>
  <bx-header-nav menu-bar-label=" Cloudant blog" role="navigation">
    
        
          
            <bx-header-nav-item active="" href="https://blog.cloudant.com/">Home</bx-header-nav-item>
          
        
          
            <bx-header-nav-item active="" href="https://blog.cloudant.com/search.html">Search</bx-header-nav-item>
          
        
    
  </bx-header-nav>
</bx-header>
<div style="height:50px"></div>
<main class="bx--content bx-hugo-carbon--ui-shell-content">
  <div class="bx--grid">
    <div class="bx--row">


<div class="bx--col-sm-12 bx--col-md-12 bx--col-lg-12  bx--col-xlg-12 bx--col-max-12">
  <h1 class="p-name">CouchApp function deprecation</h1>
  
  <div class="postmeta">Aug 16, 2022 | Glynn Bird | 

  
  <bx-tag>Deprecation</bx-tag>
  
  <bx-tag>CouchApp</bx-tag>
  


  </div>
  
  <p>IBM Cloudant, the Database-as-a-Service based on the Apache CouchDB project, is giving notice that the following features are deprecated:</p>
<ul>
<li>show functions - used to modify the format of the response when requesting a single document from the database. Show functions are accessed via URLs of the form: <code>/&lt;db&gt;/_design/&lt;design-doc&gt;/_show/&lt;show-name&gt;/&lt;docid&gt;</code>. See <a href="https://docs.couchdb.org/en/stable/ddocs/ddocs.html#showfun">CouchDB docs on Show Functions</a>.</li>
<li>list functions - similar to show functions, but applied to the output of MapReduce views. List functions are accessed via URLs of the form <code>/&lt;db&gt;/_design/&lt;design-doc&gt;/_list/&lt;list-name&gt;/&lt;view-name&gt;</code>. See <a href="https://docs.couchdb.org/en/stable/ddocs/ddocs.html#list-functions">CouchDB docs on List Functions</a>.</li>
<li>rewrite functions - used to embody routing logic in CouchApps. Rewrite functions are accessed via URLs of the form <code>/&lt;db&gt;/_design/&lt;design-doc&gt;/_rewrite/&lt;path&gt;</code>. See <a href="https://docs.couchdb.org/en/stable/api/ddoc/rewrites.html?highlight=rewrite#db-design-design-doc-rewrite-path">CouchDB docs on Rewrite Functions</a>.</li>
<li>update functions - used to carry out business logic within the database e.g. adding a timestamp to all document writes. Update functions are accessed via URLs of the form <code>/&lt;db&gt;/_design/&lt;design-doc&gt;/_update/&lt;update-name&gt;/&lt;doc-id&gt;</code>. See <a href="https://docs.couchdb.org/en/stable/api/ddoc/render.html?highlight=update%20handler#db-design-design-doc-update-update-name-doc-id">CouchDB docs on Update Functions</a></li>
</ul>
<p>These four features are already deprecated in Apache CouchDB and scheduled to be removed from the code in CouchDB 4.0. None of these features are exposed in our Cloudant SDKs.</p>
<p><img src="https://blog.cloudant.com/img/hal-gatewood-Vfml26Iy4mI-unsplash.jpg" alt="couch"></p>
<blockquote>
<p>Photo by <a href="https://unsplash.com/photos/Vfml26Iy4mI">Hal Gatewood on Unsplash</a></p>
</blockquote>
<p>Although these features are deprecated, they will not be removed from the service yet. We may completely remove this features in due course, but will leave them operable for the time being to give customers time to modify their applications. As deprecated features, they will not appear in our documentation, their use is not recommended and they will not be supported by our Support team.</p>
<h2 id="alternatives"style="display:inline">Alternatives</h2><a class="stealth" href="#alternatives">ðŸ”—</a><br>
<p>Show and List function simply transform single documents and view rows, respectively, within Cloudant before returning data to the client. This functionality can be easily reproduced by transforming Cloudant&rsquo;s usual JSON reponses on the client side.</p>
<p>Rewrite functions are used in CouchApps, where a web application is hosted by Cloudant - CouchApps <a href="https://blog.cloudant.com/2021/10/20/CouchApps-no-longer-work.html">were deprecated in October 2021</a> so application hosting must be undertaken by a separate web server or hosting provider which can perform the routing logic.</p>
<p>Update functions have two main use-cases:</p>
<ol>
<li>Modifying a document prior to writing - this logic can be transferred into client-side application logic instead i.e. if you need a timestamp recording inside every document written, add this field in your client-side logic.</li>
<li>Deciding whether a document is written or not - this logic can be implemented on the client side, or as Javascript logic in a <a href="https://docs.couchdb.org/en/3.2.2/ddocs/ddocs.html#validate-document-update-functions">Validate Document Update function (VDU)</a> - VDU functions have <em>not</em> been deprecated.</li>
</ol>

</div>
</div>
</div>
</main>



</body>
</html>

